# -*- mode: yaml -*-
groups:
  - name: prober_smartmouse
    rules:
    - record: smartmouse:probe_http_duration_seconds
      expr: probe_http_duration_seconds{job="smartmouse"}
    - record: smartmouse:prober_duration_seconds
      expr: probe_duration_seconds{job="smartmouse"}
    - record: smartmouse:prober_success
      expr: probe_success{job="smartmouse"}
    - alert: SmartmouseProberFailed
      expr: smartmouse:prober_success == 0
      for: 5m
      labels:
        severity: page
      annotations:
        summary: 'Main smartmousetravel.com prober failed'
        description: 'Main smartmousetravel.com prober has failed for >5m'
